#:import NoTransition kivy.uix.screenmanager.NoTransition
#:import SlideTransition kivy.uix.screenmanager.SlideTransition

#:kivy 2.3.1

<BaseScreen>:
    MDLabel:
        text: root.name
        halign: 'center'

MDBoxLayout:
    orientation: 'vertical'
    md_bg_color: self.theme_cls.backgroundColor

    MDScreenManager:
        id: screen_manager
        transition: NoTransition()

        BaseScreen:
            name: 'Cart'

        BaseScreen:
            name: 'Add Menu'

        BaseScreen:
            name: 'History'

        BaseScreen:
            name: 'Settings'

    # Container navigasi bar kustom
    BoxLayout:
        size_hint_y: None
        height: "60dp"
        padding: [30, 5, 30, 10]
        
        # Navigasi bar
        MDCard:
            md_bg_color: 0.78, 0.18, 0.18, 1
            radius: [30, 30, 30, 30]
            elevation: 4
            padding: 0
            
            # BoxLayout untuk distribusi ikon
            BoxLayout:
                orientation: 'horizontal'
                padding: [0, 0, 0, 0] 
                
                # Icon Cart
                MDIconButton:
                    icon: "cart"
                    theme_icon_color: "Custom"
                    icon_color: 1, 1, 1, 1
                    icon_size: "24dp"
                    ripple_scale: 0
                    on_release: app.switch_screen('Cart')
                    md_bg_color: [0.9, 0.3, 0.3, 1] if app.current_active == 'Cart' else [0.78, 0.18, 0.18, 1]
                    radius: [20] if app.current_active == 'Cart' else [0]
                    size_hint_x: 1 
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                
                # Icon Add Menu
                MDIconButton:
                    icon: "plus-box"
                    theme_icon_color: "Custom"
                    icon_color: 1, 1, 1, 1
                    icon_size: "24dp"
                    ripple_scale: 0
                    on_release: app.switch_screen('Add Menu')
                    md_bg_color: [0.9, 0.3, 0.3, 1] if app.current_active == 'Add Menu' else [0.78, 0.18, 0.18, 1]
                    radius: [20] if app.current_active == 'Add Menu' else [0]
                    size_hint_x: 1  
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                
                # Icon History
                MDIconButton:
                    icon: "history"
                    theme_icon_color: "Custom"
                    icon_color: 1, 1, 1, 1
                    icon_size: "24dp"
                    ripple_scale: 0
                    on_release: app.switch_screen('History')
                    md_bg_color: [0.9, 0.3, 0.3, 1] if app.current_active == 'History' else [0.78, 0.18, 0.18, 1]
                    radius: [20] if app.current_active == 'History' else [0]
                    size_hint_x: 1 
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                
                # Icon Settings
                MDIconButton:
                    icon: "cog"
                    theme_icon_color: "Custom"
                    icon_color: 1, 1, 1, 1
                    icon_size: "24dp"
                    ripple_scale: 0
                    on_release: app.switch_screen('Settings')
                    md_bg_color: [0.9, 0.3, 0.3, 1] if app.current_active == 'Settings' else [0.78, 0.18, 0.18, 1]
                    radius: [20] if app.current_active == 'Settings' else [0]
                    size_hint_x: 1 
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}